(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9973:function(e,t,a){Promise.resolve().then(a.bind(a,5957))},5957:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(7437),s=a(2070),r=a(2265),o=a(6232),l=a(3535),i=a(9934),c=a(2415);function d(){let[e,t]=(0,r.useState)(0),[a,s]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("Initializing booking process...");return(0,r.useEffect)(()=>{let e=new Date;e.setDate(e.getDate()+Math.floor(3*Math.random())+1),s(e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}));let a=Math.floor(8*Math.random())+10;c("".concat(a,":").concat(.5>Math.random()?"00":"30"," ").concat(a>=12?"PM":"AM"));let n=["Analyzing calendar availability...","Checking RM schedules...","Optimizing time slots...","Finalizing appointment...","Booking confirmed!"],r=0,o=setInterval(()=>{r<n.length?(u(n[r]),t(r),r++):clearInterval(o)},2e3);return()=>clearInterval(o)},[]),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(l.w,{className:"w-[600px] bg-gradient-to-br from-gray-900 to-black border border-gray-800",children:(0,n.jsx)(i.G,{className:"p-8",children:(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-center bg-gradient-to-r from-indigo-500 to-purple-500 bg-clip-text text-transparent",children:"Scheduling Your Call"}),(0,n.jsx)("div",{className:"flex justify-center space-x-4",children:[0,1,2,3,4].map(t=>(0,n.jsx)("div",{className:"w-3 h-3 rounded-full transition-all duration-500 ".concat(t<=e?"bg-gradient-to-r from-indigo-500 to-purple-500 scale-110":"bg-gray-700")},t))}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("p",{className:"text-gray-400 font-mono animate-pulse",children:d})}),e>=3&&(0,n.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,n.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-gray-700",children:[(0,n.jsx)("p",{className:"text-gray-400 mb-2",children:"Selected Date:"}),(0,n.jsx)("p",{className:"text-white font-mono",children:a})]}),(0,n.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-gray-700",children:[(0,n.jsx)("p",{className:"text-gray-400 mb-2",children:"Selected Time:"}),(0,n.jsx)("p",{className:"text-white font-mono",children:o})]})]}),4===e&&(0,n.jsxs)("div",{className:"text-center animate-fadeIn",children:[(0,n.jsx)("p",{className:"text-green-400 font-semibold",children:"Your call has been scheduled successfully!"}),(0,n.jsx)("p",{className:"text-gray-400 mt-2",children:"A calendar invite has been sent to your email."})]})]})})}),(0,n.jsx)("div",{className:"w-[600px] h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500",style:{width:"".concat((e+1)*20,"%")}})})]})}function u(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{setTimeout(()=>t(!0),100)},[]),(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:(0,n.jsx)("div",{className:"transform transition-transform duration-500 ".concat(e?"scale-100":"scale-0"),children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 rounded-full bg-green-500/20 animate-ping"}),(0,n.jsx)("div",{className:"w-32 h-32 rounded-full bg-green-500/30 flex items-center justify-center \n            ".concat(e?"animate-[scale-up_0.5s_ease-out]":""),children:(0,n.jsx)("div",{className:"w-24 h-24 rounded-full bg-green-500 flex items-center justify-center \n              ".concat(e?"animate-[bounce-in_0.6s_cubic-bezier(0.34,1.56,0.64,1)]":""),children:(0,n.jsx)("svg",{className:"w-16 h-16 text-white transform \n                  ".concat(e?"animate-[draw-check_0.8s_ease-out_forwards]":"opacity-0"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})})]})})})}function m(e){let{clientName:t,portfolioValue:a}=e,[s,o]=(0,r.useState)(0),[c,m]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),h=[{label:"Name",value:t},{label:"Portfolio Value",value:a},{label:"Mobile Number",value:"9876543210"},{label:"Address",value:"Church Street, Bengaluru, India"},{label:"PAN Number",value:"ABCDE1234F"},{label:"Aadhar Number",value:"1234 5678 9012"}],[x,p]=(0,r.useState)(h.map(()=>""));return(0,r.useEffect)(()=>{if(s<h.length){let e="",t=h[s].value,a=0,n=setInterval(()=>{a<t.length?(e+=t[a],p(t=>{let a=[...t];return a[s]=e,a}),a++):(clearInterval(n),s===h.length-1?(g(!0),setTimeout(()=>{g(!1),m(!0)},3e3)):setTimeout(()=>o(e=>e+1),500))},50);return()=>clearInterval(n)}},[s]),(0,n.jsx)("div",{className:"space-y-4",children:f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{}),(0,n.jsx)("div",{className:"fixed bottom-1/4 left-0 right-0 flex justify-center",children:(0,n.jsx)("p",{className:"text-xl font-semibold text-white animate-fadeIn",children:"Form Autofilled and sent to Ops Team"})})]}):c?(0,n.jsx)(d,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.w,{className:"w-[600px] bg-gradient-to-br from-gray-900 to-black border border-gray-800",children:(0,n.jsxs)(i.G,{className:"p-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center bg-gradient-to-r from-[#1f8844] to-[#1f8844] bg-clip-text text-transparent",children:"PMS Application Form"}),(0,n.jsx)("div",{className:"space-y-4",children:h.map((e,t)=>(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm text-gray-400",children:e.label}),(0,n.jsx)("div",{className:"p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:(0,n.jsx)("p",{className:"text-white",children:x[t]})})]},e.label))})]})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("p",{className:"text-sm font-mono bg-gradient-to-r from-cyan-400 to-[#1f8844] bg-clip-text text-transparent ".concat(s<h.length?"animate-pulse":""),children:["System: ",s<h.length?"Auto-populating form fields // Status: In Progress...":"Form Autofilled and sent to Ops Team"]})})]})})}let f={start:{buttons:[{id:"greeting",text:"Hello, I need help managing my money and I am looking for a PMS."},{id:"services",text:"What are the services you offer?"}],responses:{greeting:"Hi! I'm Aema. So you are looking for a PMS. That's great! Can you tell me more about your investment portfolio value?",services:"I'm an AI assistant specialized in wealth management at Ourmoney corporation. We offer a wide range of services to help you manage your money. We can help you with portfolio management, financial planning, and retirement planning."}},greeting:{buttons:[{id:"below50",text:"My portfolio value is below 50 lakhs"},{id:"above50",text:"My portfolio value is above 50 lakhs"}],responses:{below50:"Oh no! You are not eligible for a PMS. SEBI mandates that the minimum portfolio value for a PMS is 50 lakhs. But you can still avail our other services like financial planning, retirement planning, etc.",above50:"Great! You are eligible for a PMS. We can help you manage your portfolio and provide you with the best investment options. May I know your details?"}},services:{buttons:[{id:"portfolio_management",text:"Portfolio Management"},{id:"retirement_planning",text:"Retirement Planning"}],responses:{portfolio_management:"Great! We can help you with portfolio management. May I know your details?",retirement_planning:"Great! We can help you with retirement planning. May I know your details?"}},portfolio_management:{buttons:[{id:"portfolio_management_details",text:"Yes, My name is John Doe and my portfolio value is 80 lakhs"}],responses:{portfolio_management_details:"Thank you for providing your details. We will get back to you soon."}},retirement_planning:{buttons:[{id:"retirement_planning_details",text:"Yes, My name is John Doe and I have 2 Crore."}],responses:{retirement_planning_details:"Thank you for providing your details. We will get back to you soon."}},above50:{buttons:[{id:"portfolio_management_details",text:"Yes, My name is John Doe and my portfolio value is 80 lakhs"}],responses:{portfolio_management_details:"Thank you for providing your details. We will get back to you soon."}},below50:{buttons:[{id:"thanks",text:"Thank you."}],responses:{thanks:"Thank you for your time. We will get back to you soon."}}};function g(e){var t;let{onClose:a}=e,[d,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(),[x,p]=(0,r.useState)(),[b,y]=(0,r.useState)(),v=(0,r.useRef)(null),j=(0,r.useRef)(null),[N,w]=(0,r.useState)("start"),[k,S]=(0,r.useState)(!1),[A,_]=(0,r.useState)(!1),I=(0,r.useRef)("");async function T(){try{let e=await fetch("/api/get-access-token",{method:"POST"}),t=await e.text();return console.log("Access Token:",t),t}catch(e){console.error("Error fetching access token:",e)}return""}async function M(){var e;u(!0);let t=await T();j.current=new o.ZP({token:t}),j.current.on(o.t6.AVATAR_START_TALKING,e=>{console.log("Avatar started talking",e),_(!0)}),j.current.on(o.t6.AVATAR_STOP_TALKING,async e=>{console.log("Avatar stopped talking",e),_(!1),console.log("Last response when stopped talking:",I.current),I.current.includes("Thank you for providing your details")&&(console.log("Showing form..."),setTimeout(()=>{S(!0)},500))}),j.current.on(o.t6.STREAM_DISCONNECTED,()=>{console.log("Stream disconnected"),C()}),null===(e=j.current)||void 0===e||e.on(o.t6.STREAM_READY,e=>{console.log(">>>>> Stream ready:",e.detail),h(e.detail)});try{let e=await j.current.createStartAvatar({quality:o.JZ.Low,avatarName:"June_HR_public",knowledgeId:"",voice:{rate:1.5,emotion:o.BC.EXCITED},language:"en",disableIdleTimeout:!0});y(e)}catch(e){console.error("Error starting avatar session:",e)}finally{u(!1)}}async function E(){if(!j.current){p("Avatar API not initialized");return}await j.current.interrupt().catch(e=>{p(e.message)})}async function C(){if(!k){var e;await (null===(e=j.current)||void 0===e?void 0:e.stopAvatar()),h(void 0),a()}}async function P(e){if(!j.current)return;console.log("Button clicked with responseKey:",e),w(e);let t=f[N].responses[e];console.log("Response to speak:",t),I.current=t;try{await j.current.speak({text:t,taskType:o.UA.REPEAT,taskMode:o.AX.SYNC})}catch(e){console.error("Error in speaking:",e)}}return(0,r.useEffect)(()=>{g&&v.current&&(v.current.srcObject=g,v.current.onloadedmetadata=()=>{v.current.play(),p("Playing")})},[v,g]),(0,r.useEffect)(()=>{console.log("Current step:",N),console.log("Show form state:",k),console.log("Last response ref:",I.current)},[N,k]),(0,n.jsxs)("div",{className:"min-h-screen w-full flex flex-col",children:[k?(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,n.jsx)(m,{clientName:"John Doe",portfolioValue:"80 lakhs"})}):(0,n.jsx)(l.w,{className:"flex-1 bg-gradient-to-br from-gray-900 to-black border border-gray-800",children:(0,n.jsx)(i.G,{className:"flex flex-col justify-center items-center",children:g?(0,n.jsxs)("div",{className:"w-[900px] h-[500px] justify-center items-center flex rounded-lg overflow-hidden relative",children:[(0,n.jsx)("video",{ref:v,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"contain"},children:(0,n.jsx)("track",{kind:"captions"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 absolute top-3 right-3",children:[(0,n.jsx)(s.A,{className:"bg-gradient-to-r from-[#1f8844] to-[#1f8844] text-white",size:"md",variant:"shadow",onClick:E,children:"Interrupt task"}),(0,n.jsx)(s.A,{className:"bg-gradient-to-r from-[#1f8844] to-[#1f8844] text-white",size:"md",variant:"shadow",onClick:C,children:"End session"})]})]}):d?(0,n.jsx)(c.c,{color:"default",size:"lg"}):(0,n.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-center mb-2",children:"Disclaimer"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 text-center mb-4",style:{fontSize:"1.2rem"},children:"This is a demo to showcase the process. For demonstration purposes, voice input has been disabled, and button inputs have been added instead. In the final implementation, this will be a fully interactive conversational agent that allows real-time voice interaction."}),(0,n.jsx)(s.A,{className:"bg-gradient-to-r from-[#1f8844] to-[#1f8844] text-white text-lg px-8 py-6 rounded-lg",size:"lg",variant:"shadow",onClick:M,children:"Start session"})]})})}),g&&!k&&(0,n.jsx)("div",{className:"fixed bottom-8 left-0 right-0 flex justify-center gap-4",children:null===(t=f[N])||void 0===t?void 0:t.buttons.map(e=>(0,n.jsx)(s.A,{className:"bg-gradient-to-r from-[#1f8844] to-[#1f8844] text-white text-lg px-6 py-4",size:"lg",onClick:()=>P(e.id),children:e.text},e.id))})]})}function h(){let[e,t]=(0,r.useState)(!1);return e?(0,n.jsx)(g,{onClose:()=>t(!1)}):(0,n.jsx)("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-[#1f8844]",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 blur-[100px] bg-gradient-to-br from-[#1f8844] to-[#1f8844] opacity-30 rounded-full"}),(0,n.jsxs)("div",{className:"relative z-10 text-center space-y-8",children:[(0,n.jsx)("h1",{className:"text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#1f8844] to-[#1f8844]",children:"Virtual Lead Assistant"}),(0,n.jsx)("p",{className:"text-xl text-gray-300",children:"Your AI-powered companion, ready to assist 24/7"}),(0,n.jsx)(s.A,{className:"bg-gradient-to-r from-[#1f8844] to-[#1f8844] text-white text-lg px-8 py-6 rounded-full hover:shadow-lg hover:shadow-[#1f8844]/50 transition-all duration-300",size:"lg",onClick:()=>t(!0),children:"Talk to Agent"})]})]})})}function x(){return(0,n.jsx)(h,{})}}},function(e){e.O(0,[481,678,971,23,744],function(){return e(e.s=9973)}),_N_E=e.O()}]);